<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <link rel="stylesheet" href="/libs/highlight/github.min.css">
   
  <link rel="stylesheet" href="/css/franklin.css">
<link rel="stylesheet" href="/css/minimal-mistakes.css">
<link rel="stylesheet" href="/css/adjust.css">
<link rel="icon" href="/assets/usa_free.svg">
<!--[if IE ]>
<style>
  /* old IE unsupported flexbox fixes */
  .greedy-nav .site-title {
    padding-right: 3em;
  }
  .greedy-nav button {
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
  }
</style>
<![endif]-->

   <title>Automate web scraping with selenium</title>  
  <!-- end custom head snippets -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-154771635-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-154771635-1');
  </script>
  
</head>
<body class="layout--single">
  <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">Shinji's Website</a>
        <ul class="visible-links">
          <li class="masthead__menu-item"><a href="/profile" >About Me</a></li>
          <li class="masthead__menu-item"><a href="/research" >Research</a></li>
          <li class="masthead__menu-item"><a href="/publications" >Publications</a></li>
          <li class="masthead__menu-item"><a href="/notes" >Notes</a></li>
          <!-- <li class="masthead__menu-item"><a href="/lecture" >Seminar/Lecture</a></li> -->
        </ul>
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

 
  <!-- for twitter icons or other services -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  <div class="initial-content">
    <div id="main" role="main">
      <div class="sidebar sticky">
        <div itemscope itemtype="https://schema.org/Person">
          <div class="author__avatar">
            <!-- <img src="/assets/me.jpeg" alt="siida" itemprop="image"> -->
            <img src="/assets/me_sherlock1mb.jpeg" alt="siida" itemprop="image">
          </div>
          <div class="author__content">
            <h3 class="author__name" itemprop="name">Shinji Iida</h3>
            <a href="https://twitter.com/messages/compose?recipient_id=1372514325085057025"class="twitter-dm-button" data-screen-name="@_siida_"> Message @_siida_</a>

            <p class="author__bio" itemprop="description">Postdoctral researcher in computational biophysics. Petit à petit, je fais mon nid.</p>

          </div>
          <div class="author__urls-wrapper">
            <button class="btn btn--inverse">Follow</button>
            <ul class="author__urls social-icons">

              <li><a href="mailto:s-iida@protein.osaka-u.ac.jp" rel="nofollow noopener noreferrer"><img src="/assets/mailicon.png" alt="email" style="width: 1vw; min-width: 20px;"></i> Email</a></li>
              <li><a href="https://github.com/physicshinzui" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
              <li><a href="https://scholar.google.co.jp/citations?user=p09KwG8AAAAJ&hl=en" rel="nofollow noopener noreferrer"><img src="/assets/google-scholar.png" alt="gscholar" style="width: 1vw; min-width: 15px;"></i> Google Scholar</a></li>
              <li><a href="https://twitter.com/_siida_" rel="nofollow noopener noreferrer"><img src="/assets/icons8-twitter.svg" alt="twitter" style="width: 1vw; min-width: 20px;"></i> Twitter </a></li>
              <li><a href="https://hub.docker.com/u/shinjiiida" rel="nofollow noopener noreferrer"><img src="/assets/Moby-logo.png" alt="docker" style="width: 1vw; min-width: 20px;"></i> DockerHub </a></li>

              <!-- <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
                <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Tokyo, Japan</span></li> -->
              
            </ul>
          </div>
        </div>
      </div>

<!-- Content appended here -->
<div class="franklin-content"><h1 id="automate_web_scraping_with_selenium"><a href="#automate_web_scraping_with_selenium" class="header-anchor">Automate web scraping with selenium</a></h1>
<div class="franklin-toc"><ol><li><a href="#install_selenium">Install selenium</a></li><li><a href="#download_driver">Download driver</a><ol><li><a href="#chrome">Chrome</a></li><li><a href="#firefox">Firefox</a></li><li><a href="#check_if_the_driver_works">Check if the driver works</a></li></ol></li><li><a href="#to_get_started">To get started</a><ol><li><a href="#search_on_google">Search on google</a></li><li><a href="#upload_a_file">Upload a file </a></li><li><a href="#main_methods">Main methods</a></li><li><a href="#headless_mode">Headless mode</a></li><li><a href="#automate_swissparam_generate_a_ligand_parameter">Automate Swissparam: Generate a ligand parameter</a></li><li><a href="#automate_charmm-gui_generate_a_ligand_pdb_with_hydrogens">Automate CHARMM-GUI: Generate a ligand PDB with hydrogens</a></li><li><a href="#how_to_get_xpath_from_firefox">How to get XPath from Firefox</a></li></ol></li></ol></div>
<h2 id="install_selenium"><a href="#install_selenium" class="header-anchor">Install selenium</a></h2>
<pre><code class="language-shell">conda install -c conda-forge selenium</code></pre>
<h2 id="download_driver"><a href="#download_driver" class="header-anchor">Download driver</a></h2>
<h3 id="chrome"><a href="#chrome" class="header-anchor">Chrome</a></h3>
<ol>
<li><p>Visit https://sites.google.com/chromium.org/driver/</p>
</li>
<li><p>Download https://chromedriver.storage.googleapis.com/index.html?path&#61;96.0.4664.45/</p>
</li>
</ol>
<h3 id="firefox"><a href="#firefox" class="header-anchor">Firefox</a></h3>
<ol>
<li><p>Go to https://github.com/mozilla/geckodriver/releases/tag/v0.30.0</p>
</li>
<li><p>Download https://github.com/mozilla/geckodriver/releases/download/v0.30.0/geckodriver-v0.30.0-macos-aarch64.tar.gz</p>
</li>
</ol>
<h3 id="check_if_the_driver_works"><a href="#check_if_the_driver_works" class="header-anchor">Check if the driver works</a></h3>
<pre><code class="language-python">driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;&#41;</code></pre>
<p>Then, if you are a mac user, you may encounter the following message: </p>
<blockquote>
<p><strong>“chromedriver” cannot be opened because it is from an unidentified developer.</strong></p>
</blockquote>
<p>Note: Chrome and the driver&#39;s version must be compatible. Otherwise, you will get an error related to the imcompatibility </p>
<h2 id="to_get_started"><a href="#to_get_started" class="header-anchor">To get started</a></h2>
<h3 id="search_on_google"><a href="#search_on_google" class="header-anchor">Search on google</a></h3>
<pre><code class="language-python">driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;&#41;
driver.get&#40;&#39;https://www.google.co.jp&#39;&#41; #Open chrome
search_bar &#61; driver.find_element_by_name&#40;&quot;q&quot;&#41; # Search for name q from the HTML
search_bar.send_keys&#40;&quot;python&quot;&#41;                # Fill out the search bar
search_bar.submit&#40;&#41;                           # Submit the search</code></pre>
<h3 id="upload_a_file"><a href="#upload_a_file" class="header-anchor">Upload a file </a></h3>
<pre><code class="language-python">import os
driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;&#41;
driver.get&#40;&#39;https://www.google.co.jp&#39;&#41; #Open chrome
search_bar &#61; driver.find_element_by_name&#40;&quot;q&quot;&#41; # Search for name q from the HTML
search_bar.send_keys&#40;os.pwd&#40;&#41; &#43; &quot;filename&quot;&#41;
search_bar.submit&#40;&#41;                           # Submit the search</code></pre>
<h3 id="main_methods"><a href="#main_methods" class="header-anchor">Main methods</a></h3>
<pre><code class="language-python">find_element_by_id&#40;id&#41;	         # id属性で要素を検索する
find_element_by_name&#40;name&#41;	     # name属性で要素を検索する
find_element_by_class_name&#40;name&#41; # class属性で要素を検索する
find_element_by_tag_name&#40;name&#41;   #タグ名で要素を検索する
find_element_by_xpath&#40;xpath&#41;     # XPathで要素を検索する
find_element_by_css_selector&#40;css_selector&#41;   # CSSセレクタで要素を検索する
find_element_by_link_text&#40;link_text&#41;         # リンクテキストで要素を検索する
find_element_by_partial_link_text&#40;link_text&#41; # リンクテキストの部分一致で要素を検索する</code></pre>
<h3 id="headless_mode"><a href="#headless_mode" class="header-anchor">Headless mode</a></h3>
<pre><code class="language-python">from selenium import webdriver
from time import sleep
from selenium.webdriver.chrome.options import Options
 
options &#61; Options&#40;&#41;
options.add_argument&#40;&#39;--headless&#39;&#41;
driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;,options&#61;options&#41;
driver.get&#40;&#39;https://www.google.co.jp&#39;&#41;
 
search_bar &#61; driver.find_element_by_name&#40;&quot;q&quot;&#41;
search_bar.send_keys&#40;&quot;python&quot;&#41;
search_bar.submit&#40;&#41;</code></pre>
<h3 id="automate_swissparam_generate_a_ligand_parameter"><a href="#automate_swissparam_generate_a_ligand_parameter" class="header-anchor">Automate Swissparam: Generate a ligand parameter</a></h3>
<pre><code class="language-python">#For Firefox
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import selenium
import os
import time
import sys

mol2file &#61; sys.argv&#91;1&#93;

#driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;&#41;
driver &#61; webdriver.Firefox&#40;executable_path&#61;&#39;/Users/siida/Documents/geckodriver&#39;&#41;

driver.get&#40;&#39;https://www.swissparam.ch/&#39;&#41;
search_bar &#61; driver.find_element_by_name&#40;&quot;mol2Files&quot;&#41;
search_bar.send_keys&#40;os.getcwd&#40;&#41;&#43;f&quot;/&#123;mol2file&#125;&quot;&#41;

search_bar &#61; driver.find_element_by_id&#40;&quot;sib_action&quot;&#41;
search_bar.submit&#40;&#41;

time.sleep&#40;5&#41;

search_bar &#61; driver.find_element_by_partial_link_text&#40;&quot;results&quot;&#41;
search_bar.click&#40;&#41;</code></pre>
<h3 id="automate_charmm-gui_generate_a_ligand_pdb_with_hydrogens"><a href="#automate_charmm-gui_generate_a_ligand_pdb_with_hydrogens" class="header-anchor">Automate CHARMM-GUI: Generate a ligand PDB with hydrogens</a></h3>
<pre><code class="language-python">from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import selenium
import os
import time
import sys

PDBID &#61; sys.argv&#91;1&#93;

#driver &#61; webdriver.Chrome&#40;&#39;/Users/siida/Documents/chromedriver&#39;&#41;
driver &#61; webdriver.Firefox&#40;executable_path&#61;&#39;/Users/siida/Documents/geckodriver&#39;&#41;

driver.get&#40;&#39;https://www.charmm-gui.org/?doc&#61;input/ligandrm&#39;&#41;

search_bar &#61; driver.find_element_by_id&#40;&quot;email&quot;&#41;
search_bar.send_keys&#40;&quot;EMAILADRESS&quot;&#41; #&lt;- replace

search_bar &#61; driver.find_element_by_id&#40;&quot;password&quot;&#41;
search_bar.send_keys&#40;&quot;PASSWORD&quot;&#41; #&lt;- replace

search_bar.submit&#40;&#41;

time.sleep&#40;3&#41;

driver.find_element_by_id&#40;&quot;pdb_id&quot;&#41;.send_keys&#40;PDBID&#41;
time.sleep&#40;2&#41;
driver.find_element_by_xpath&#40;&quot;/html/body/div&#91;4&#93;/div&#91;2&#93;/div&#91;3&#93;/form/span&#91;2&#93;/span&#91;3&#93;/table/tbody/tr&#91;3&#93;/td/table&#91;1&#93;/tbody/tr&#91;1&#93;/td&#91;1&#93;/input&quot;&#41;.click&#40;&#41;</code></pre>
<h3 id="how_to_get_xpath_from_firefox"><a href="#how_to_get_xpath_from_firefox" class="header-anchor">How to get XPath from Firefox</a></h3>
<pre><code class="language-julia">Follow Bellow Steps:
Step 1 : Right click on page -&gt; Select &#40;Inspect Element&#41;
Step 2 : Pick an element from the page
Step 3 : Right Click on highlighted html -&gt; Copy -&gt; Xpath</code></pre>
<div class="page-foot">
  <div class="copyright">
    <!-- &copy; {{ fill author }}. {{isnotpage /tag/*}}Last modified: {{ fill fd_mtime }}.{{end}} -->
    Written by Shinji Iida. Last modified: March 10, 2022
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->

      </div> <!-- closure of main -->
    </div>   <!-- closure of class initial--content -->
    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
        <!-- end custom footer snippets -->
        <div class="page__footer-copyright">&copy; Shinji Iida . 

          <a href="https://scholar.google.co.jp/citations?user=p09KwG8AAAAJ&hl=en" rel="nofollow noopener noreferrer">
            <img src="/assets/google-scholar.png" alt="gscholar" style="width: 1vw; min-width: 10px;"> 
            Google Scholar.
          </a>

          <h>
            Email: s-iida[at]protein.osaka-u.ac.jp.
          </h>


          <a href="https://github.com/tlienart/Franklin.jl">
            Powered by 
            Franklin.jl
          </a> &amp; 

          <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">
            Minimal Mistakes
          </a>.

        </div>
      </footer>
    </div>

    <script src="/libs/minimal-mistakes/main.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>

    
    
        <script src="/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
